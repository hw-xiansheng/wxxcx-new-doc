<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>分类模块 | 微信小程序和uniApp学习</title>
    <meta name="generator" content="VuePress 1.9.8">
    
    <meta name="description" content="微信小程序和uniApp课程笔记内容">
    
    <link rel="preload" href="/wxxcx-new-doc/assets/css/0.styles.9be072dc.css" as="style"><link rel="preload" href="/wxxcx-new-doc/assets/js/app.ec605b43.js" as="script"><link rel="preload" href="/wxxcx-new-doc/assets/js/4.94705d28.js" as="script"><link rel="preload" href="/wxxcx-new-doc/assets/js/15.8dfa88c6.js" as="script"><link rel="prefetch" href="/wxxcx-new-doc/assets/js/10.b6febd8a.js"><link rel="prefetch" href="/wxxcx-new-doc/assets/js/11.a13082db.js"><link rel="prefetch" href="/wxxcx-new-doc/assets/js/12.415ce077.js"><link rel="prefetch" href="/wxxcx-new-doc/assets/js/13.4cea0c20.js"><link rel="prefetch" href="/wxxcx-new-doc/assets/js/14.cf6130a3.js"><link rel="prefetch" href="/wxxcx-new-doc/assets/js/16.7904dc15.js"><link rel="prefetch" href="/wxxcx-new-doc/assets/js/17.306f813f.js"><link rel="prefetch" href="/wxxcx-new-doc/assets/js/18.cdb82653.js"><link rel="prefetch" href="/wxxcx-new-doc/assets/js/19.4bfda9a2.js"><link rel="prefetch" href="/wxxcx-new-doc/assets/js/2.29d16cc1.js"><link rel="prefetch" href="/wxxcx-new-doc/assets/js/20.0fa5c6a6.js"><link rel="prefetch" href="/wxxcx-new-doc/assets/js/21.08c2925a.js"><link rel="prefetch" href="/wxxcx-new-doc/assets/js/3.37197192.js"><link rel="prefetch" href="/wxxcx-new-doc/assets/js/5.a01a9c37.js"><link rel="prefetch" href="/wxxcx-new-doc/assets/js/6.643a876d.js"><link rel="prefetch" href="/wxxcx-new-doc/assets/js/7.e4ab888b.js"><link rel="prefetch" href="/wxxcx-new-doc/assets/js/8.16895671.js"><link rel="prefetch" href="/wxxcx-new-doc/assets/js/9.340b5f0b.js">
    <link rel="stylesheet" href="/wxxcx-new-doc/assets/css/0.styles.9be072dc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wxxcx-new-doc/" class="home-link router-link-active"><img src="/wxxcx-new-doc/logo.jpg" alt="微信小程序和uniApp学习" class="logo"> <span class="site-name can-hide">微信小程序和uniApp学习</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微信小程序文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="课程内容" class="dropdown-title"><span class="title">课程内容</span> <span class="arrow down"></span></button> <button type="button" aria-label="课程内容" class="mobile-dropdown-title"><span class="title">课程内容</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/wxxcx-new-doc/day01/" class="nav-link">
  day01课程
</a></li><li class="dropdown-item"><!----> <a href="/wxxcx-new-doc/day02/" class="nav-link">
  day02课程
</a></li><li class="dropdown-item"><!----> <a href="/wxxcx-new-doc/day03/" class="nav-link">
  day03课程
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="课程内容" class="dropdown-title"><span class="title">爱购商城</span> <span class="arrow down"></span></button> <button type="button" aria-label="课程内容" class="mobile-dropdown-title"><span class="title">爱购商城</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/wxxcx-new-doc/aishop/1.项目搭建.html" class="nav-link">
  1.项目搭建
</a></li><li class="dropdown-item"><!----> <a href="/wxxcx-new-doc/aishop/2.首页模块.html" class="nav-link">
  2.首页模块
</a></li><li class="dropdown-item"><!----> <a href="/wxxcx-new-doc/aishop/3.分类模块.html" class="nav-link">
  3.分类模块
</a></li><li class="dropdown-item"><!----> <a href="/wxxcx-new-doc/aishop/4.我的模块.html" class="nav-link">
  4.我的模块
</a></li><li class="dropdown-item"><!----> <a href="/wxxcx-new-doc/aishop/5.搜索模块.html" class="nav-link">
  5.搜索模块
</a></li><li class="dropdown-item"><!----> <a href="/wxxcx-new-doc/aishop/6.商品模块.html" class="nav-link">
  6.商品模块
</a></li><li class="dropdown-item"><!----> <a href="/wxxcx-new-doc/aishop/7.购物车模块.html" class="nav-link">
  7.购物车模块
</a></li><li class="dropdown-item"><!----> <a href="/wxxcx-new-doc/aishop/8.订单模块.html" class="nav-link">
  8.订单模块
</a></li><li class="dropdown-item"><!----> <a href="/wxxcx-new-doc/aishop/9.打包上线.html" class="nav-link">
  9.打包上线
</a></li></ul></div></div><div class="nav-item"><a href="https://mp.weixin.qq.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微信公众平台
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="相关生态" class="dropdown-title"><span class="title">相关生态</span> <span class="arrow down"></span></button> <button type="button" aria-label="相关生态" class="mobile-dropdown-title"><span class="title">相关生态</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/community/develop/article/doc/000ecc775a86807f7ba9b7dc956c13" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WeUI
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vant-contrib.gitee.io/vant-weapp/#/home" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vant Weapp
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/miniprogram/dev/extended/utils/computed.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  框架扩展
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/miniprogram/dev/extended/utils/api-promise.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  工具类库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微信小程序文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="课程内容" class="dropdown-title"><span class="title">课程内容</span> <span class="arrow down"></span></button> <button type="button" aria-label="课程内容" class="mobile-dropdown-title"><span class="title">课程内容</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/wxxcx-new-doc/day01/" class="nav-link">
  day01课程
</a></li><li class="dropdown-item"><!----> <a href="/wxxcx-new-doc/day02/" class="nav-link">
  day02课程
</a></li><li class="dropdown-item"><!----> <a href="/wxxcx-new-doc/day03/" class="nav-link">
  day03课程
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="课程内容" class="dropdown-title"><span class="title">爱购商城</span> <span class="arrow down"></span></button> <button type="button" aria-label="课程内容" class="mobile-dropdown-title"><span class="title">爱购商城</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/wxxcx-new-doc/aishop/1.项目搭建.html" class="nav-link">
  1.项目搭建
</a></li><li class="dropdown-item"><!----> <a href="/wxxcx-new-doc/aishop/2.首页模块.html" class="nav-link">
  2.首页模块
</a></li><li class="dropdown-item"><!----> <a href="/wxxcx-new-doc/aishop/3.分类模块.html" class="nav-link">
  3.分类模块
</a></li><li class="dropdown-item"><!----> <a href="/wxxcx-new-doc/aishop/4.我的模块.html" class="nav-link">
  4.我的模块
</a></li><li class="dropdown-item"><!----> <a href="/wxxcx-new-doc/aishop/5.搜索模块.html" class="nav-link">
  5.搜索模块
</a></li><li class="dropdown-item"><!----> <a href="/wxxcx-new-doc/aishop/6.商品模块.html" class="nav-link">
  6.商品模块
</a></li><li class="dropdown-item"><!----> <a href="/wxxcx-new-doc/aishop/7.购物车模块.html" class="nav-link">
  7.购物车模块
</a></li><li class="dropdown-item"><!----> <a href="/wxxcx-new-doc/aishop/8.订单模块.html" class="nav-link">
  8.订单模块
</a></li><li class="dropdown-item"><!----> <a href="/wxxcx-new-doc/aishop/9.打包上线.html" class="nav-link">
  9.打包上线
</a></li></ul></div></div><div class="nav-item"><a href="https://mp.weixin.qq.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微信公众平台
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="相关生态" class="dropdown-title"><span class="title">相关生态</span> <span class="arrow down"></span></button> <button type="button" aria-label="相关生态" class="mobile-dropdown-title"><span class="title">相关生态</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/community/develop/article/doc/000ecc775a86807f7ba9b7dc956c13" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WeUI
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vant-contrib.gitee.io/vant-weapp/#/home" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vant Weapp
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/miniprogram/dev/extended/utils/computed.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  框架扩展
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/miniprogram/dev/extended/utils/api-promise.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  工具类库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>分类模块</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wxxcx-new-doc/aishop/3.%E5%88%86%E7%B1%BB%E6%A8%A1%E5%9D%97.html#一、绘制界面效果" class="sidebar-link">一、绘制界面效果</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wxxcx-new-doc/aishop/3.%E5%88%86%E7%B1%BB%E6%A8%A1%E5%9D%97.html#_1、绘制左侧区域" class="sidebar-link">1、绘制左侧区域</a></li><li class="sidebar-sub-header"><a href="/wxxcx-new-doc/aishop/3.%E5%88%86%E7%B1%BB%E6%A8%A1%E5%9D%97.html#_2、绘制右侧区域" class="sidebar-link">2、绘制右侧区域</a></li><li class="sidebar-sub-header"><a href="/wxxcx-new-doc/aishop/3.%E5%88%86%E7%B1%BB%E6%A8%A1%E5%9D%97.html#_3、获取高度" class="sidebar-link">3、获取高度</a></li></ul></li><li><a href="/wxxcx-new-doc/aishop/3.%E5%88%86%E7%B1%BB%E6%A8%A1%E5%9D%97.html#二、获取渲染内容" class="sidebar-link">二、获取渲染内容</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wxxcx-new-doc/aishop/3.%E5%88%86%E7%B1%BB%E6%A8%A1%E5%9D%97.html#_1、左侧数据获取渲染" class="sidebar-link">1、左侧数据获取渲染</a></li><li class="sidebar-sub-header"><a href="/wxxcx-new-doc/aishop/3.%E5%88%86%E7%B1%BB%E6%A8%A1%E5%9D%97.html#_2、右侧数据获取渲染" class="sidebar-link">2、右侧数据获取渲染</a></li></ul></li><li><a href="/wxxcx-new-doc/aishop/3.%E5%88%86%E7%B1%BB%E6%A8%A1%E5%9D%97.html#三、细节功能实现" class="sidebar-link">三、细节功能实现</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wxxcx-new-doc/aishop/3.%E5%88%86%E7%B1%BB%E6%A8%A1%E5%9D%97.html#_1、滚动加载数据" class="sidebar-link">1、滚动加载数据</a></li><li class="sidebar-sub-header"><a href="/wxxcx-new-doc/aishop/3.%E5%88%86%E7%B1%BB%E6%A8%A1%E5%9D%97.html#_2、左侧点击切换" class="sidebar-link">2、左侧点击切换</a></li><li class="sidebar-sub-header"><a href="/wxxcx-new-doc/aishop/3.%E5%88%86%E7%B1%BB%E6%A8%A1%E5%9D%97.html#_3、首页点击跳转激活问题" class="sidebar-link">3、首页点击跳转激活问题</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="分类模块"><a href="#分类模块" class="header-anchor">#</a> 分类模块</h1> <blockquote><p>分支处理</p> <p>git checkout -b cate</p></blockquote> <h2 id="一、绘制界面效果"><a href="#一、绘制界面效果" class="header-anchor">#</a> 一、绘制界面效果</h2> <img src="/wxxcx-new-doc/assets/img/image-20221222193044204.6597a27f.png" alt="image-20221222193044204" style="zoom:80%;"> <h3 id="_1、绘制左侧区域"><a href="#_1、绘制左侧区域" class="header-anchor">#</a> 1、绘制左侧区域</h3> <p><strong>需求：</strong>  绘制基本结构和左侧内容区域</p> <p><strong>思路：</strong></p> <ul><li>1、复用之前的搜索组件</li> <li>2、绘制左侧内容区域</li></ul> <p><strong>实现：</strong></p> <p><strong>1、复用之前的搜索组件</strong></p> <div class="language-html line-numbers-mode"><div class="highlight-lines"><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br></div><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cateContainer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 搜索组件 S--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mySearch</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mySearch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>searchShow<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mySearch</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 搜索组件 E--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><div class="highlighted"> </div><br><br><br><br><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><br><br><br></div><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token comment">// 控制搜索组件显示</span>
            <span class="token literal-property property">searchShow</span><span class="token operator">:</span><span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">onShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 搜索组件被创建了</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>searchShow <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">onHide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 搜索组件关闭了</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>searchShow <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>2、绘制左侧内容区域</strong></p> <ul><li><p>使用<code>scroll-view</code>对左边区域进行绘制</p> <div class="language-html line-numbers-mode"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br></div><pre class="language-html"><code><span class="token comment">&lt;!-- 容器区域 S --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>boxContainer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 左侧 S--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scroll-view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nav<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scroll-y</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>active<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>分类1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>分类2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>分类3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>分类4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>分类5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>分类6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>分类7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>分类8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scroll-view</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 左侧 E--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 容器区域 E --&gt;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.cateContainer</span><span class="token punctuation">{</span>
	<span class="token property">width</span><span class="token punctuation">:</span> 100vw<span class="token punctuation">;</span>
	<span class="token property">height</span><span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span>
	<span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
	<span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
	<span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
	<span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
	<span class="token selector">.boxContainer</span><span class="token punctuation">{</span>
		<span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
		<span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
		<span class="token selector">.nav</span><span class="token punctuation">{</span>
			<span class="token property">width</span><span class="token punctuation">:</span> 180rpx<span class="token punctuation">;</span>
			<span class="token property">border-right</span><span class="token punctuation">:</span> 1rpx solid #fafafa<span class="token punctuation">;</span>
			<span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
			<span class="token selector">view</span><span class="token punctuation">{</span>
				<span class="token property">line-height</span><span class="token punctuation">:</span> 100rpx<span class="token punctuation">;</span>
				<span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
				<span class="token property">color</span><span class="token punctuation">:</span> #333<span class="token punctuation">;</span>
				<span class="token property">font-size</span><span class="token punctuation">:</span> 30rpx
			<span class="token punctuation">}</span>
			<span class="token selector">.active</span><span class="token punctuation">{</span>
				<span class="token property">color</span><span class="token punctuation">:</span>#409eff<span class="token punctuation">;</span>
				<span class="token property">font-size</span><span class="token punctuation">:</span> 32rpx
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div></li></ul> <h3 id="_2、绘制右侧区域"><a href="#_2、绘制右侧区域" class="header-anchor">#</a> 2、绘制右侧区域</h3> <p><strong>需求：</strong>  完成右侧上面分类图片，以及底部的图片列表容器展示</p> <p><strong>思路：</strong></p> <ul><li>1、绘制右侧基本结构</li> <li>2、绘制基础右侧样式</li></ul> <p><strong>实现：</strong></p> <p><strong>1、绘制右侧基本结构</strong></p> <div class="language-html line-numbers-mode"><div class="highlight-lines"><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br></div><pre class="language-html"><code><span class="token comment">&lt;!-- 容器区域 S --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>boxContainer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--其他--&gt;</span>
    <span class="token comment">&lt;!-- 右侧 S--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 图片 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cateImg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdn.uviewui.com/uview/swiper/swiper1.png<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>u--image</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 滚动商品容器 S--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scroll-view</span> <span class="token attr-name">scroll-y</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>listBox<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 商品列表 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goodList</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goodList</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 空的状态 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>u-empty</span> <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span> <span class="token attr-name">marginTop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200rpx<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>u-empty</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scroll-view</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 滚动商品容器 E--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 右侧 E--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 容器区域 E --&gt;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><strong>2、绘制基础右侧样式</strong></p> <div class="language-css line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br></div><pre class="language-css"><code><span class="token selector">.cateContainer</span><span class="token punctuation">{</span>
	<span class="token property">width</span><span class="token punctuation">:</span> 100vw<span class="token punctuation">;</span>
	<span class="token property">height</span><span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span>
	<span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
	<span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
	<span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
	<span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
	<span class="token selector">.boxContainer</span><span class="token punctuation">{</span>
		<span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
		<span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
		<span class="token selector">.nav</span><span class="token punctuation">{</span>
			<span class="token property">width</span><span class="token punctuation">:</span> 180rpx<span class="token punctuation">;</span>
			<span class="token property">border-right</span><span class="token punctuation">:</span> 1rpx solid #fafafa<span class="token punctuation">;</span>
			<span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
			<span class="token selector">view</span><span class="token punctuation">{</span>
				<span class="token property">line-height</span><span class="token punctuation">:</span> 100rpx<span class="token punctuation">;</span>
				<span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
				<span class="token property">color</span><span class="token punctuation">:</span> #333<span class="token punctuation">;</span>
				<span class="token property">font-size</span><span class="token punctuation">:</span> 30rpx
			<span class="token punctuation">}</span>
			<span class="token selector">.active</span><span class="token punctuation">{</span>
				<span class="token property">color</span><span class="token punctuation">:</span>#409eff<span class="token punctuation">;</span>
				<span class="token property">font-size</span><span class="token punctuation">:</span> 32rpx
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token selector">.cate</span><span class="token punctuation">{</span>
			<span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
			<span class="token property">padding</span><span class="token punctuation">:</span>0 20rpx<span class="token punctuation">;</span>
			<span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
			<span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
			<span class="token selector">.cateImg</span><span class="token punctuation">{</span>
				<span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
				<span class="token property">height</span><span class="token punctuation">:</span> 160rpx<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token selector">.listBox</span><span class="token punctuation">{</span>
				<span class="token property">flex</span><span class="token punctuation">:</span>1<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><h3 id="_3、获取高度"><a href="#_3、获取高度" class="header-anchor">#</a> 3、获取高度</h3> <p><strong>需求：</strong>  获取下面红色框的高度和蓝色框的高度，便于给<code>scroll-view</code> 方便滚动</p> <img src="/wxxcx-new-doc/assets/img/image-20221213203735438.264d80a0.png" alt="image-20221213203735438" style="zoom:67%;"> <p><strong>思路：</strong></p> <ul><li><p>1、定义相关变量信息</p></li> <li><p>2、获取相关高度并设置</p></li></ul> <p><strong>实现：</strong></p> <p><strong>1、定义相关变量信息</strong></p> <ul><li><p><code>data</code>里面<code>wh</code>和<code>searchHeight</code>还有<code>imgHeight</code>三个变量</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br></div><pre class="language-js"><code><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">wh</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>			<span class="token comment">// 窗口高度</span>
        <span class="token literal-property property">searchHeight</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>  <span class="token comment">// 搜索框的高度</span>
        <span class="token literal-property property">imgHeight</span><span class="token operator">:</span><span class="token number">0</span>     <span class="token comment">// 分类图片高度</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul> <p><strong>2、获取相关高度并设置</strong></p> <ul><li><p>通过<code>uni.createSelectorQuery().in(this).select(&quot;选择器&quot;)</code> 获取节点</p></li> <li><p>通过调用<code>节点.boundingClientRect</code> 获取相关信息</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br></div><pre class="language-js"><code><span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 获取设备高度</span>
    uni<span class="token punctuation">.</span><span class="token function">getSystemInfo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token function-variable function">success</span><span class="token operator">:</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>wh <span class="token operator">=</span> res<span class="token punctuation">.</span>windowHeight
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// 获取搜索组件高度</span>
    <span class="token keyword">const</span> query <span class="token operator">=</span> uni<span class="token punctuation">.</span><span class="token function">createSelectorQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">in</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    query<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'#mySearch'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">boundingClientRect</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// data就是该节点的位置和高度相关信息</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>searchHeight <span class="token operator">=</span> data<span class="token punctuation">.</span>height
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 获取图片高度</span>
    query<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'.cateImg'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">boundingClientRect</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// data就是该节点的位置和高度相关信息</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>imgHeight <span class="token operator">=</span> data<span class="token punctuation">.</span>height
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></li> <li><p>设置给对应标签位置</p> <div class="language-html line-numbers-mode"><div class="highlight-lines"><div class="highlighted"> </div><br></div><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>boxContainer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>height:'+(wh-searchHeight)+'px'<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-html line-numbers-mode"><div class="highlight-lines"><div class="highlighted"> </div><br></div><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scroll-view</span> <span class="token attr-name">scroll-y</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>listBox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>height:'+(wh-searchHeight-imgHeight)+'px'<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <h2 id="二、获取渲染内容"><a href="#二、获取渲染内容" class="header-anchor">#</a> 二、获取渲染内容</h2> <h3 id="_1、左侧数据获取渲染"><a href="#_1、左侧数据获取渲染" class="header-anchor">#</a> 1、左侧数据获取渲染</h3> <p><strong>需求：</strong> 实现左侧分类数据请求和渲染</p> <p><strong>思路：</strong></p> <ul><li><p>1、分析接口（接口地址、请求方式、携带参数、返回数据）</p></li> <li><p>2、<code>data</code>定义相关变量</p></li> <li><p>3、<code>methods</code>定义获取数据方法</p></li> <li><p>4、<code>onShow</code>生命周期调用</p></li> <li><p>5、模板里面渲染数据</p></li></ul> <p><strong>实现：</strong></p> <p><strong>1、分析接口</strong></p> <p><strong>2、<code>data</code>定义相关变量</strong></p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br></div><pre class="language-js"><code><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token comment">// 其他...</span>
        <span class="token comment">// 1.定义分类数据和激活分类信息</span>
        <span class="token literal-property property">cateList</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">activeCate</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>3、<code>methods</code>定义获取数据方法</strong></p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br></div><pre class="language-js"><code><span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token comment">// 2. 定义获取全部分类方法</span>
    <span class="token keyword">async</span> <span class="token function">getAllCate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> res <span class="token operator">=</span><span class="token keyword">await</span> uni<span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/catalog/index'</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>cateList <span class="token operator">=</span> res<span class="token punctuation">.</span>categoryList
		<span class="token comment">// 只有当有数据才确定激活分类信息</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cateList<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>activeCate <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cateList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>4、<code>onShow</code>生命周期调用</strong></p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br></div><pre class="language-js"><code><span class="token function">onShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 3. 调用获取数据</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getAllCate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>5、模板里面渲染数据</strong></p> <div class="language-html line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br><br></div><pre class="language-html"><code><span class="token comment">&lt;!-- 左侧 S--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scroll-view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nav<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scroll-y</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in cateList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ active:activeCate.id === item.id }<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scroll-view</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 左侧 E--&gt;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_2、右侧数据获取渲染"><a href="#_2、右侧数据获取渲染" class="header-anchor">#</a> 2、右侧数据获取渲染</h3> <p><strong>需求：</strong>  实现右侧上面分类图片的展示以及商品列表的展示</p> <p><strong>思路：</strong></p> <ul><li>1、根据激活分类信息渲染分类图片</li> <li>2、根据激活分类信息ID，获取对应列表</li></ul> <p><strong>实现：</strong></p> <p><strong>1、根据激活分类信息渲染分类图片</strong></p> <div class="language-html line-numbers-mode"><div class="highlight-lines"><div class="highlighted"> </div><br><br></div><pre class="language-html"><code><span class="token comment">&lt;!-- 图片 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cateImg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>activeCate.img_url<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>u--image</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>2、根据激活分类信息ID，获取对应列表</strong></p> <ul><li><p>分析接口</p></li> <li><p><code>data</code>定义变量</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br></div><pre class="language-js"><code><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token comment">// 其他数据...</span>
        <span class="token comment">// 商品列表相关参数</span>
        <span class="token literal-property property">count</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>  	    <span class="token comment">// 总数</span>
        <span class="token literal-property property">currentPage</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>  <span class="token comment">// 页码</span>
        <span class="token literal-property property">pageSize</span><span class="token operator">:</span><span class="token number">8</span><span class="token punctuation">,</span> 	<span class="token comment">// 每页数量</span>
        <span class="token literal-property property">list</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>		<span class="token comment">// 商品列表</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li> <li><p><code>methods</code>定义方法</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br></div><pre class="language-js"><code><span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token comment">// 其他 ...</span>
    <span class="token comment">// 获取商品列表的方法</span>
    <span class="token keyword">async</span> <span class="token function">getGoodList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 请求数据</span>
        <span class="token keyword">let</span> <span class="token punctuation">{</span>count<span class="token punctuation">,</span> data<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> uni<span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/catalog/currentlist'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
            <span class="token literal-property property">id</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>activeCate<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
            <span class="token literal-property property">page</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>currentPage<span class="token punctuation">,</span>
            <span class="token literal-property property">size</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>pageSize
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token comment">// 赋值</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>list <span class="token operator">=</span> data
        <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> count
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li> <li><p>获取分类结束后调用</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br></div><pre class="language-js"><code><span class="token comment">// 2. 定义获取全部分类方法</span>
<span class="token keyword">async</span> <span class="token function">getAllCate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> res <span class="token operator">=</span><span class="token keyword">await</span> uni<span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/catalog/index'</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>cateList <span class="token operator">=</span> res<span class="token punctuation">.</span>categoryList
    <span class="token comment">// 只有当有数据才确定激活分类信息</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cateList<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>activeCate <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cateList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        <span class="token comment">// 获取商品分类</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getGoodList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li> <li><p>渲染数据</p> <div class="language-html line-numbers-mode"><div class="highlight-lines"><br><div class="highlighted"> </div><br><div class="highlighted"> </div><br></div><pre class="language-html"><code><span class="token comment">&lt;!-- 商品列表 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goodList</span> <span class="token attr-name">:list</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list.length<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goodList</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 空的状态 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>u-empty</span> <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-else</span> <span class="token attr-name">marginTop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200rpx<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>u-empty</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul> <h2 id="三、细节功能实现"><a href="#三、细节功能实现" class="header-anchor">#</a> 三、细节功能实现</h2> <h3 id="_1、滚动加载数据"><a href="#_1、滚动加载数据" class="header-anchor">#</a> 1、滚动加载数据</h3> <p><strong>需求：</strong>  在商品列表区域实现滚动记载数据，且提示数据加载中和数据结束</p> <p><strong>思路：</strong></p> <ul><li>1、给<code>scroll-view</code>组件配置到底事件</li> <li>2、定义相关变量</li> <li>3、实现加载更多逻辑</li></ul> <p><strong>实现：</strong></p> <p><strong>1、给<code>scroll-view</code>组件配置到底事件</strong></p> <ul><li><p>给<code>scroll-view</code>加上<code>scrolltolower</code>事件</p> <div class="language-html line-numbers-mode"><div class="highlight-lines"><div class="highlighted"> </div><br></div><pre class="language-html"><code>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scroll-view</span> <span class="token attr-name">scroll-y</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>listBox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@scrolltolower</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loadMore<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>height:'+(wh-searchHeight-imgHeight)+'px'<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>定义事件函数</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br></div><pre class="language-js"><code><span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{</span>
	<span class="token comment">//...其他</span>
    <span class="token comment">// 滚动加载更多数据</span>
    <span class="token function">loadMore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'滚动加载更多数据'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul> <p><strong>2、定义相关变量</strong></p> <ul><li><p>定义<code>status</code> ，可选值为<code>loadmore</code> 和<code>loading</code> 和 <code>nomore</code></p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><br><br><br></div><pre class="language-js"><code><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token comment">// 其他...</span>
        <span class="token literal-property property">status</span><span class="token operator">:</span><span class="token string">'loadmore'</span><span class="token punctuation">,</span>  <span class="token comment">// 数据状态</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>使用加载更多组件</p> <div class="language-html line-numbers-mode"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><br><div class="highlighted"> </div><br></div><pre class="language-html"><code><span class="token comment">&lt;!-- 商品列表 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goodList</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list.length<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:list</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goodList</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 列表底部的展示 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>u-loadmore</span>  <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list.length<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:status</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>status<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>u-loadmore</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 空的状态 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>u-empty</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list.length === 0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span> <span class="token attr-name">marginTop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200rpx<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>u-empty</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul> <p><strong>3、实现加载更多逻辑</strong></p> <ul><li><p>定义加载数据的逻辑</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br></div><pre class="language-js"><code><span class="token comment">// 滚动加载更多数据</span>
<span class="token function">loadMore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//  loadmore 加载更多，表示还可加载</span>
    <span class="token comment">//  loading  加载中， 不可以继续加载</span>
    <span class="token comment">//  nomore   没有了，不可以加载</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">!==</span> <span class="token string">'loadmore'</span><span class="token punctuation">)</span> <span class="token keyword">return</span>
    <span class="token comment">// 页码变化</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>currentPage<span class="token operator">++</span>
    <span class="token comment">// 重新获取请求</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getGoodList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li> <li><p>重写获取数据的方法</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><div class="highlighted"> </div><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br></div><pre class="language-js"><code><span class="token comment">// 获取商品列表的方法</span>
<span class="token keyword">async</span> <span class="token function">getGoodList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token string">'loading'</span>  <span class="token comment">// 数据加载中...</span>
    <span class="token comment">// 请求数据</span>
    <span class="token keyword">let</span> <span class="token punctuation">{</span>count<span class="token punctuation">,</span> data<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> uni<span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/catalog/currentlist'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>activeCate<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
        <span class="token literal-property property">page</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>currentPage<span class="token punctuation">,</span>
        <span class="token literal-property property">size</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>pageSize
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// 赋值</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">,</span><span class="token operator">...</span>data<span class="token punctuation">]</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> count
    <span class="token comment">// 判断结束</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 没有了</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token string">'nomore'</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token comment">// 还有</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token string">'loadmore'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></li></ul> <h3 id="_2、左侧点击切换"><a href="#_2、左侧点击切换" class="header-anchor">#</a> 2、左侧点击切换</h3> <p><strong>需求：</strong>  左侧分类点击，高亮切换；其次右侧数据更新</p> <p><strong>思路：</strong></p> <ul><li><p>1、绑定点击事件，传入点击行数据</p></li> <li><p>2、修改激活分类信息，重置相关参数，查询列表</p></li></ul> <p><strong>实现：</strong></p> <p><strong>1、绑定点击事件，传入点击行数据</strong></p> <div class="language-html line-numbers-mode"><div class="highlight-lines"><div class="highlighted"> </div><br></div><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in cateList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeActive(item)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ active:activeCate.id === item.id }<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>2、修改激活分类信息，重置相关参数，查询列表</strong></p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br></div><pre class="language-js"><code><span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token comment">// 修改激活</span>
    <span class="token function">changeActive</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 重新赋值激活分类</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>activeCate <span class="token operator">=</span> obj
        <span class="token comment">// 重置列表相关参数</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token string">'loadmore'</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>currentPage <span class="token operator">=</span> <span class="token number">1</span>
        <span class="token comment">// 重新获取列表 </span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getGoodList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_3、首页点击跳转激活问题"><a href="#_3、首页点击跳转激活问题" class="header-anchor">#</a> 3、首页点击跳转激活问题</h3> <p><strong>需求：</strong>  首页分类图标和分类文字点击过来的时候对应分类要高亮激活</p> <p><strong>思路：</strong></p> <ul><li>1、首页的点击事件传入分类ID，将分类ID存储到本地</li> <li>2、分类界面取出ID，匹配对应激活信息</li></ul> <p><strong>实现：</strong></p> <p><strong>1、首页的点击事件传入分类ID，将分类ID存储到本地</strong></p> <ul><li><code>index/index.vue</code>里面<code>getCate</code>事件传入<code>id</code></li></ul> <div class="language-html line-numbers-mode"><div class="highlight-lines"><div class="highlighted"> </div><br></div><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>u-grid-item</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in channel<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goCate(item.id)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-html line-numbers-mode"><div class="highlight-lines"><div class="highlighted"> </div><div class="highlighted"> </div><br></div><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goodContainer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in categoryList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>titleBox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goCate(item.id)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><code>index/index.vue</code>里面事件函数里面存储起来分类ID</li></ul> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><div class="highlighted"> </div><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token comment">// 跳转到分类界面</span>
    <span class="token function">goCate</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 存储在本地</span>
        uni<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">'cateId'</span><span class="token punctuation">,</span>id<span class="token punctuation">)</span>
        uni<span class="token punctuation">.</span><span class="token function">switchTab</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">'/pages/cate/cate'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>2、分类界面取出ID，匹配对应激活信息</strong></p> <ul><li><p>取出<code>ID</code> 找到激活项， 类似于点击切换，既要重置数据，重要获取列表</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br></div><pre class="language-js"><code><span class="token keyword">async</span> <span class="token function">getAllCate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> res <span class="token operator">=</span><span class="token keyword">await</span> uni<span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/catalog/index'</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>cateList <span class="token operator">=</span> res<span class="token punctuation">.</span>categoryList
    <span class="token comment">// 只有当有数据才确定激活分类信息</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cateList<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> cateId <span class="token operator">=</span> uni<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">'cateId'</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>cateId<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">let</span> row <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cateList<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span>item<span class="token punctuation">.</span>id <span class="token operator">===</span> cateId<span class="token punctuation">)</span>
            <span class="token comment">// 修改激活，重置相关内容，获取商品分类</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">changeActive</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
           <span class="token keyword">this</span><span class="token punctuation">.</span>activeCate <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cateList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
		   <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">changeActive</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>activeCate<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></li> <li><p>注意：页面关闭对的时候清除本地分类ID，防止每次都是固定对的分类高亮</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br></div><pre class="language-js"><code><span class="token function">onHide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 页面关闭的时候请求本地分类ID</span>
    uni<span class="token punctuation">.</span><span class="token function">removeStorageSync</span><span class="token punctuation">(</span><span class="token string">'cateId'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul> <blockquote><p>分支处理：</p> <p>git add .</p> <p>git commit -m &quot;分类完成&quot;</p> <p>git push -u origin cate</p> <p>git checkout master</p> <p>git merge cate</p> <p>git push</p></blockquote></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/wxxcx-new-doc/assets/js/app.ec605b43.js" defer></script><script src="/wxxcx-new-doc/assets/js/4.94705d28.js" defer></script><script src="/wxxcx-new-doc/assets/js/15.8dfa88c6.js" defer></script>
  </body>
</html>
